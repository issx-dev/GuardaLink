<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- LIBRERÍA ICONOS SVG -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- METADATOS -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <!-- TÍTULO PÁGINA -->
    <title>{% block title %} title {% endblock %}</title>
    <!-- ENLACE CSS -->
    <link rel="stylesheet" href="../static/css/style.css" />
    {% block extra_css %}{% endblock %}
  </head>
  <body>
    <div class="dashboard">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <h2>Menú</h2>
          <button id="toggle-sidebar">☰</button>
        </div>
        <ul class="menu">
          <li>
            <a href="{{ url_for('index') }}">
              <!-- ICONO DE LA LIBRERÍA LUCIDE -->
              <i data-lucide="home"></i><span>Inicio</span>
            </a>
          </li>
          <li>
            <a href="#">
              <!-- ICONO DE LA LIBRERÍA LUCIDE -->
              <i data-lucide="bookmark-plus"></i><span>Añadir marcador</span>
            </a>
          </li>
          <li>
            <a href="{{ url_for('perfil') }}">
              <!-- ICONO DE LA LIBRERÍA LUCIDE -->
              <i data-lucide="user"></i><span>Perfil</span>
            </a>
          </li>
        </ul>
      </aside>

      <!-- Contenido principal -->
      <main class="main-content">
        <header>
          <h1 id="view-title">{% block h1 %}{% endblock %}</h1>
        </header>
        {% block main %}{% endblock %}
      </main>
    </div>

    <script>
      // Toggle sidebar
      document
        .getElementById("toggle-sidebar")
        .addEventListener("click", () => {
          document.getElementById("sidebar").classList.toggle("collapsed");
        });

      // Control de vistas
      const menuItems = document.querySelectorAll(".menu a");
      const sections = document.querySelectorAll(".view-section");
      const viewTitle = document.getElementById("view-title");

      lucide.createIcons();
    </script>

    <!-- PERFIL DE USUARIO -->
    <div class="avatar-container">
      <img
        src="https://thumb.ac-illust.com/51/51e1c1fc6f50743937e62fca9b942694_t.jpeg"
        alt="Usuario"
        class="user-avatar"
        onclick="toggleAvatarMenu()"
      />
      <div class="avatar-menu" id="avatarMenu">
        <ul>
          <li><a href="{{ url_for('perfil') }}">Perfil</a></li>
          <li><a href="{{ url_for('cerrar_sesion') }}">Cerrar sesión</a></li>
        </ul>
      </div>
    </div>

    <!-- ENLACE JAVASCRIPT -->
    <script src="../static/js/script.js"></script>
  </body>
</html>
