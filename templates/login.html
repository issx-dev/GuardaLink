<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="keywords" content="" />
        <meta name="description" content="" />
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='css/base.css') }}"
        />
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='css/login.css') }}"
        />
        <title>Iniciar Sesión</title>
    </head>
    <body>
        <header></header>

        <main>
            <div class="container" id="container">
                <div class="form-container sign-up-container">
                    <form action="/acceso" method="POST">
                        <h1 class="titulo-sesion-registro">Crea una cuenta</h1>
                        <input
                            type="text"
                            placeholder="Nombre Completo"
                            name="nombre-completo"
                            required
                        />
                        <input
                            type="email"
                            placeholder="Email"
                            name="email"
                            required
                        />
                        <div class="password-field">
                            <input
                                type="password"
                                placeholder="Contraseña"
                                name="contraseña"
                                required
                            />
                            <span
                                class="toggle-password"
                                data-lucide="eye"
                            ></span>
                        </div>

                        <button type="submit" name="registrarse">
                            Registrarse
                        </button>
                    </form>
                </div>
                <div class="form-container sign-in-container">
                    <form action="/acceso" method="POST">
                        <h1 class="titulo-sesion-registro">Inicia Sesión</h1>
                        <input
                            type="email"
                            placeholder="Email"
                            name="email"
                            required
                        />
                        <div class="password-field">
                            <input
                                type="password"
                                placeholder="Contraseña"
                                name="contraseña"
                                required
                            />
                            <span
                                class="toggle-password"
                                data-lucide="eye"
                            ></span>
                        </div>

                        <button type="submit" name="iniciar-sesion">
                            Iniciar Sesión
                        </button>
                        {% with mensajes =
                        get_flashed_messages(with_categories=true) %} {% if
                        mensajes %}
                        <div class="mensajes-flash">
                            {% for categoria, mensaje in mensajes %}
                            <div class="{{ categoria }}">
                                <!-- Icono de alerta -->
                                <!-- Se utiliza un icono diferente según la categoría -->
                                <i
                                    data-lucide="{{ 'alert-circle' if categoria == 'error' else 'check-circle' }}"
                                ></i>
                                {{ mensaje }}
                                <!-- Barra de progreso -->
                                <div class="progress-bar"></div>
                                <!-- Botón para cerrar el mensaje -->
                                <i
                                    class="close-flash"
                                    data-lucide="x"
                                    onclick="this.parentElement.remove()"
                                ></i>
                            </div>
                            {% endfor %}
                        </div>
                        {% endif %} {% endwith %}
                    </form>
                </div>
                <div class="overlay-container">
                    <div class="overlay">
                        <div class="overlay-panel overlay-left">
                            <h1>Bienvenido de Vuelta!</h1>
                            <p>
                                Para mantenerse conectado con nosotros, inicie
                                sesión con su información personal.
                            </p>
                            <button class="ghost" id="signIn">
                                Inicia Sesión
                            </button>
                        </div>
                        <div class="overlay-panel overlay-right">
                            <h1>Bienvenido a GuardaLink!</h1>
                            <p>
                                Introduce tus datos personales y comienza tu
                                viaje con nosotros.
                            </p>
                            <button class="ghost" id="signUp">
                                Registrate
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer></footer>

        <!-- LIBRERÍA ICONOS SVG -->
        <script src="https://unpkg.com/lucide@latest"></script>
        <script src="{{ url_for('static', filename='js/login.js') }}"></script>
        <script src="{{ url_for('static', filename='js/base.js') }}"></script>
    </body>
</html>
